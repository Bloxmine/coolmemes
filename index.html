<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meme Magic Mirror - Welcome</title>
    <link rel="stylesheet" href="css/index.css">
</head>
<body>
    <div class="container">
        <h1>MEME MAGIC MIRROR</h1>
        
        <div class="emoji-row">
            <span>ğŸ‰</span>
            <span>ğŸ’ª</span>
            <span>âœŒï¸</span>
            <span>ğŸ‘‹</span>
            <span>ğŸ™Œ</span>
            <span>ğŸ”¥</span>
        </div>
        <div class="features">
            <div class="feature">
                <div class="feature-icon">ğŸ¯</div>
                <h3>Pose Detection</h3>
                <p>Strike epic poses like T-Pose, Dab, Peace Signs, and more!</p>
            </div>
            
            <div class="feature">
                <div class="feature-icon">ğŸ¤–</div>
                <h3>AI Powered</h3>
                <p>Advanced body tracking and hand gesture recognition with ml5.js</p>
            </div>
            
            <div class="feature">
                <div class="feature-icon">ğŸ†</div>
                <h3>Achievements</h3>
                <p>Unlock achievements, climb the leaderboard, and complete challenges!</p>
            </div>
            
            <div class="feature">
                <div class="feature-icon">ğŸ“¸</div>
                <h3>Capture Moments</h3>
                <p>Screenshot your best poses and build your meme gallery!</p>
            </div>
            
            <div class="feature">
                <div class="feature-icon">ğŸ¨</div>
                <h3>Custom Poses</h3>
                <p>Create and load your own custom pose definitions!</p>
            </div>
            
            <div class="feature">
                <div class="feature-icon">ğŸ’¯</div>
                <h3>Score & Combo</h3>
                <p>Build combos and rack up points with your pose mastery!</p>
            </div>
        </div>
        
        <a href="mirror.html" class="start-button">
            START
        </a>
        
        <p class="footer">
            Requires webcam access â€¢ Best experienced in modern browsers<br>
            Made with â¤ï¸ and memes
        </p>
    </div>    
    <script>
        // Load poses.json and create background GIFs
        async function loadBackgroundGifs() {
            try {
                const response = await fetch('poses.json');
                const data = await response.json();
                
                // Extract all GIF paths from memes
                const allGifs = [];
                for (const poseId in data.memes) {
                    const images = data.memes[poseId].images || [];
                    const gifs = images.filter(img => img.endsWith('.gif'));
                    allGifs.push(...gifs);
                }
                
                if (allGifs.length === 0) return;
                
                // Create 6 gif elements positioned randomly
                const positions = [
                    { top: '10%', left: '5%' },
                    { top: '15%', right: '8%' },
                    { top: '60%', left: '3%' },
                    { bottom: '15%', right: '5%' },
                    { top: '40%', left: '10%' },
                    { bottom: '10%', left: '50%', transform: 'translateX(-50%)' }
                ];
                
                const gifElements = [];
                
                positions.forEach((pos, index) => {
                    const img = document.createElement('img');
                    img.className = 'bg-gif';
                    Object.assign(img.style, pos);
                    document.body.appendChild(img);
                    gifElements.push(img);
                });
                
                // Function to change a random GIF
                function updateRandomGif() {
                    const randomIndex = Math.floor(Math.random() * gifElements.length);
                    const randomGif = allGifs[Math.floor(Math.random() * allGifs.length)];
                    const img = gifElements[randomIndex];
                    
                    // Fade out
                    img.classList.remove('active');
                    
                    // Change image and fade in
                    setTimeout(() => {
                        img.src = randomGif;
                        img.classList.add('active');
                    }, 1000);
                }
                
                // Initialize with random GIFs
                gifElements.forEach((img, index) => {
                    const randomGif = allGifs[Math.floor(Math.random() * allGifs.length)];
                    img.src = randomGif;
                    setTimeout(() => {
                        img.classList.add('active');
                    }, index * 200); // Stagger the initial appearance
                });
                
                // Change a random GIF every 5 seconds
                setInterval(updateRandomGif, 5000);
                
            } catch (error) {
                console.log('Could not load background GIFs:', error);
            }
        }
        
        // Start loading GIFs when page loads
        loadBackgroundGifs();
    </script></body>
</html>
